@{
    ViewData["Title"] = "Franchise Dashboard | ERP";
}

@{
    var currentPage = (int)ViewData["CurrentPage"];
    var totalPages = (int)ViewData["TotalPages"];
}

<div class="container-fluid">
    <div class="row">
        <!-- Left Nav -->
        <div class="col-md-2 p-3 vh-100" style="background-color: #1E1E1E;">
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link text-white fs-5" style="height: 60px;" asp-controller="Main" asp-action="Franchise">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white fs-5" style="height: 60px;" asp-controller="Franchise" asp-action="AddStore">Add Store</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white fs-5" style="height: 60px;" href="#">Default</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white fs-5" style="height: 60px;" href="#">Default</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white fs-5" style="height: 60px;" href="#">Default</a>
                </li>
            </ul>
        </div>

        <!-- Right Side -->
        <div class="col-md-10 p-3 vh-100 text-white">
            <div>
                <!-- PartialView 렌더링 -->
                @Html.Partial("../Partials/_StoreList", ViewData["Stores"] as IEnumerable<UserStore>)

                <!-- Pagination -->
                <nav aria-label="Page navigation" class="mt-3">
                    <ul class="pagination">
                        @if (currentPage > 1)
                        {
                            <li class="page-item">
                                <a class="page-link" href="@Url.Action("Franchise", new { page = currentPage - 1 })">Previous</a>
                            </li>
                        }

                        @for (int i = 1; i <= totalPages; i++)
                        {
                            <li class="page-item @(i == currentPage ? "active" : "")">
                                <a class="page-link" href="@Url.Action("Franchise", new { page = i })">@i</a>
                            </li>
                        }

                        @if (currentPage < totalPages)
                        {
                            <li class="page-item">
                                <a class="page-link" href="@Url.Action("Franchise", new { page = currentPage + 1 })">Next</a>
                            </li>
                        }
                    </ul>
                </nav>
            </div>
   
        </div>

    </div>
</div>